<!-- GFM-TOC -->
* [????? ????](#?????-????)
    * [?????????](#?????????)
    * [ISP](#isp)
    * [???????????](#???????????)
    * [?????????????](#?????????????)
    * [??°§????????˝Ç??](#??°§????????˝Ç??)
        * [1. ??°§????](#1-??°§????)
        * [2. ???????](#2-???????)
        * [3. ???˝Ç??](#3-???˝Ç??)
    * [???](#???)
        * [1. ???????](#1-???????)
        * [2. ???????](#2-???????)
        * [3. ???????](#3-???????)
        * [4. ??????](#4-??????)
    * [??????????????*](#??????????????)
        * [1. ???ßø??](#1-???ßÔ??)
        * [2. ???ßø??](#2-???ßÔ??)
        * [3. ???????????????????](#3-???????????????????)
        * [4. TCP/IP ?????](#4-tcpip-?????)
* [????? ?????](#?????-?????)
    * [?????](#?????)
    * [???????](#???????)
    * [??????®π???](#??????®π???)
        * [1. ?????®¢???????](#1-?????®¢???????)
        * [2. ?????????](#2-?????????)
        * [3. ???????](#3-???????)
        * [4. ??????](#4-??????)
* [?????? ??????°§??](#??????-??????°§??)
    * [????????????](#????????????)
        * [1. ??????](#1-??????)
        * [2. ???????](#2-???????)
        * [3. ?????](#3-?????)
    * [???????-PPP ßø??](#???????-ppp-ßÔ??)
    * [????????????](#????????????)
    * [?????-CSMA/CD ßø??](#?????-csmacd-ßÔ??)
    * [??????](#??????)
    * [MAC ??](#mac-??)
    * [?????????](#?????????)
* [?????? ?????*](#??????-?????)
    * [????ßø?? IP ????](#????ßÔ??-ip-????)
    * [IP ????????](#ip-????????)
    * [IP ??????](#ip-??????)
        * [1. ????? IP ???](#1-?????-ip-???)
        * [2. ????????](#2-????????)
        * [3. ??????? CIDR???????????](#3-???????-cidr???????????)
    * [IP ????? MAC ???](#ip-?????-mac-???)
    * [???????ßø?? ARP](#???????ßÔ??-arp)
    * [°§???????](#°§???????)
    * [????????°§??????????](#????????°§??????????)
    * [°§???????????????](#°§???????????????)
    * [°§?????ßø??](#°§?????ßÔ??)
        * [1. ???????ßø?? RIP](#1-???????ßÔ??-rip)
        * [2. ???????ßø?? OSPF](#2-???????ßÔ??-ospf)
        * [3. ??????ßø?? BGP](#3-??????ßÔ??-bgp)
    * [??????????ßø?? ICMP](#??????????ßÔ??-icmp)
    * [??????????? PING](#???????????-ping)
    * [IP ??](#ip-??)
    * [????????? VPN](#?????????-vpn)
    * [????????? NAT](#?????????-nat)
* [?????? ?????*](#??????-?????)
    * [UDP ?? TCP ?????](#udp-??-tcp-?????)
    * [UDP ??????](#udp-??????)
    * [TCP ??????](#tcp-??????)
    * [TCP ??????????](#tcp-??????????)
    * [TCP ????¶À???](#tcp-????¶À???)
    * [TCP ????????](#tcp-????????)
    * [TCP ???????](#tcp-???????)
    * [TCP ????????](#tcp-????????)
    * [TCP ???????](#tcp-???????)
        * [??????????????](#??????????????)
        * [??????????](#??????????)
* [?????? ??®∞?*](#??????-??®∞?)
    * [?????? DNS](#??????-dns)
        * [1. ??¶Õ?](#1-??¶Õ?)
        * [2. ????????](#2-????????)
    * [???????ßø?? FTP](#???????ßÔ??-ftp)
    * [??????ßø?? TELNET](#??????ßÔ??-telnet)
    * [????? WWW](#?????-www)
    * [???????ßø??](#???????ßÔ??)
        * [POP3](#pop3)
        * [IMAP](#imap)
        * [SMTP](#smtp)
    * [???????????ßø?? DHCP](#???????????ßÔ??-dhcp)
    * [?????? P2P](#??????-p2p)
    * [Web ??????????](#web-??????????)
    * [??????](#??????)
<!-- GFM-TOC -->

# ????? ????

## ?????????

?????????????????????????????????????????????????????????????????????≥á

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/04ff7ae6-7bee-4cf8-82f8-dfe2ba1f3616.jpg)

## ISP

?????????????? ISP ??????????????????????? IP ???????????????°§???°§???????????ıÙ???????????? ISP ?????????????????????????

????????????????? ISP ????ISP ?????????????ß≥??????? ISP?????? ISP ????? ISP??

???????????? IXP ??????????????????????????????????????????Óï

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/17d807ef-03bf-4824-a97c-ea5fb58ec61d.jpg)

## ???????????

1. ??????????????????????????????????????????????
2. ??????????????????????????ßª?????°§??????®¿????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/005d83c2-e64a-41f0-bbdd-51c71d494a18.jpg)

## ?????????????

**1. ??? - ????????C/S??**

????????????????????????????????

**2. ????P2P??**

?????????????????

## ??°§????????˝Ç??

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/b97958dd-3e43-45f7-97f5-3ec20f3f8b88.jpg)

### 1. ??°§????

??°§????????¥¬????????????????????????????????????????°§?????????????????????????????°§??????????????ß”?????????????????°§??????°§????????°§??????????????????? 10%??

### 2. ???????

???????????????????????????????????????õ•???????????????????????????????????????????????????õ•????????

### 3. ???˝Ç??

???˝Ç????????õ•???????????????????????????????????????????????????????????????????????????ßŸ??????????????????ß≥????????ßŸ?????????????????????????ÔÖ??????????????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/6f4af159-8b03-4246-8d0e-222db65bb83c.jpg)

?õ•??????????????????°§???????????????ÔÖ???????˝Ç?????????????????°§?????

?????????????????????????ß≥???õ•??????????????

## ???

????? = ??????? + ??????? + ??????? + ??????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/ceee91c2-da26-4169-94c3-e4608b46b9ac.png)


### 1. ???????

??????°§???????????????????????

![](http://latex.codecogs.com/gif.latex?\\\\delay=\frac{l(bit)}{v(bit/s)})

???? l ??????????????v ????????????

### 2. ???????

??????????ß’????????????????????????????????????????

![](http://latex.codecogs.com/gif.latex?\\\\delay=\frac{l(m)}{v(m/s)})

???? l ???????????v ???????????????????????

### 3. ???????

??????°§???????????????ß’????????????????????????????????????????????

### 4. ??????

??????°§????????????ß‹????????????????????????????Ωy??????????

## ??????????????*

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/1005dc9d-9049-4b06-9524-6171e56ebd8c.png)

### 1. ???ßø??

??? a ????????ß“????????????????

1. ???????????????????????????????????????????????????????
2. ???????????????????Å‹???????????

### 2. ???ßø??

1. ??®∞???????®Æ??????????????????? HTTP??DNS ????????¶À??????

2. ???????????????????????????????????®∞?ßø?????????????????ßø???????????????????®∞?ßø?Óï????????????ßø?Ôì???????ßø?? TCP?????????????????????????????????¶À?????¶≤?????????ßø?? UDP????????????????????????????????????¶À???????????

3. ???????????????????????????????ßø??????????????ß÷?????????????????????????????¶À????????????????????????ß’???

4. ??????°§??????????????????????????????????ß‹????°§????°§??ßø???????????????????????????°§??????????????????????

5. ?????????????????????????????????????????????????????????â^????????????????????¶ƒ????????????¶≈???????????????????°§??ß‡???????ßª????

### 3. ???????????????????

???????????ßµ??????????ßø????????????????¶¬?????????????????ß”?????????¶¬????

°§???????????????ßø?ÔÖ???°§????¶À??????????ßµ????????????????®Æ?????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/f7d5da89-2d75-4d8f-85e7-6b608865dc00.jpg)

### 4. TCP/IP ?????

???????????????ßø??????????°§??????????????????

????? TCP/IP ????????????? OSI ????????®∞??????????? IP ????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/3e2200b3-1c18-4853-ae42-7788e8e1f939.png)

TCP/IP ßø?????????????????ßﬁ?ß≥?????IP ßø????????????????????¶À??

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/9ecaebee-670e-4cb2-9cdb-3029c00f33bd.png)

# ????? ?????

## ?????

1. ????????????????????
2. ??????????????????????
3. ?????????????????????

## ???????

??????????????????????????????????????????????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/d2c55c84-aa1f-43c1-bd97-457bcb7816b3.png)

## ??????®π???

### 1. ?????®¢???????

??????????????????????????®∞?????????????????????????????????????????????????????????

??????????????????????????????????????????????????????????????????????????????????????????????????®Æ????????????????????????????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/543d47a1-f0dd-414f-b23c-0c142c814854.png)

### 2. ?????????

??????????????????????????????????????ß÷?¶À???????????????????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/29058e09-bb72-4040-a73d-4c497895e9ce.jpg)

### 3. ???????

????????®¢??????????????????????®∞?????????????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/78534153-88d1-4f83-a6e0-59064dbdc43a.png)

### 4. ??????

??????????? m bit ??????????????ß÷????????????????????????? $\vec{S}$ ?? $\vec{T}$ ??

![](http://latex.codecogs.com/gif.latex?\\\\\vec{S}\cdot\vec{T}=0)

??????? m=8??????? $\vec{S}$ ? 00011011??????ß⁄???????????????? 1 ??????????????????? 0 ??????????????? 11100100??

???????? 00011011 ???? (-1 -1 -1 +1 +1 -1 +1 +1)????????

![](http://latex.codecogs.com/gif.latex?\\\\\frac{1}{m}\vec{S}\cdot\vec{S}=1)

![](http://latex.codecogs.com/gif.latex?\\\\\frac{1}{m}\vec{S}\cdot\vec{S'}=-1)

???? $\vec{S'}$ ? $\vec{S}$ ?????

?????????????????????????????????? $\vec{S}$ ????????????????????????????? 0 ????????????????????????? 1 ??????????????? 1?????? -1 ??????????????? 0??

?????°¬??????????????? m ????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/0042edad-8e3b-4279-bd93-6906fcd1b640.jpg)

# ?????? ??????°§??

## ????????????

### 1. ??????

????????????????????????¶¬??????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/ea5ed9b2-6d9f-48fb-b890-0288caf9088a.jpg)

### 2. ???????

????????????????????????????????????

??????????¶¬???????????????????ß‹????¶¬?????????????????????????¶À??????????ßÿ?????????????ß‘??????¶¬???????????????????????????????????????????????????????????????????????????????????????????ß’????????????????????????????????????????????????????????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/44e1d90e-3fe6-4dd6-8dce-6daab12e7663.jpg)

### 3. ?????

????????°§?????????????????˜œCRC????????????

## ???????-PPP ßø??

??????????????????????? ISP ?????????????????PPP ßø??????????????? ISP ????????????????????°§??ßø?Óï

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/8b5bd2c8-8425-4a8b-89db-235c95800de9.jpg)

?? PPP ????ßµ?F ?????????????A ?? C ?????????â^FCS ????? CRC ????????ß≥??????¶≈????????? 1500??

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/a5fa89e7-54b9-4e2f-8c48-a35712d7b2f5.jpg)

## ????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/8b15e36f-69b4-46b6-a07c-7234ac7c7927.jpg)

## ?????-CSMA/CD ßø??

?????????????????????????????????????

CSMA/CD ????????????????/??????

**??????**??????????????????Ì‡??????????????????????????
**???????**??????????????????????????????????????????????????????????
**??????**????????ßµ??????????????????????????????????????????????????????????????????????????????????ßµ??????????????????????????????ß·???????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/f9ed4da5-0032-41e6-991a-36d995ec28fd.png)

?????????????? ??????????????????? 2?? ?????????????????????? 2?? ? **??????**????ß‡??????????????ßﬁ???????????????¶«?????????????

??????????????????????????????????????????????? **????????????????** ?????????????????????? {0, 1, .., (2<sup>k</sup>-1)} ??????????????????? r?????? r ??????????????????????

## ??????

????????????®π??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????ß≥?

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/897a4f4e-2683-44e1-a26a-c0d0234dc576.jpg)

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/40c3f8e5-3a20-45b6-a60c-77b9b952e104.jpg)

## MAC ??

MAC ????? 6 ????48 ¶À????????????¶∑????????????????????ßÿ???????????ßÿ?? MAC ??????????????????????????????????????????????????????

MAC ???????????????????????ßø?Ôî??????¶√????? 46-1500 ???????ß≥????????FCS ?????????ßµ??????? CRC ???˙õ?????????????????????????? FCS ????????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/50d38e84-238f-4081-8876-14ef6d7938b5.jpg)

## ?????????

??????????????????????¶À??????????ÔÖ???????????????????ß÷????????????????????????? (A1, A2, A3, A4) ??????????????????A1 ???????? A2??A3??A4 ?????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/a74b70ac-323a-4b31-b4d5-90569b8a944b.png)

# ?????? ?????*

## ????ßø?? IP ????

???????????????????????????????????????????????????????????????????????????????????????????????

??? IP ßø?ÔÖ?????????????????????????????????????????????????????????≥á

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/fe3d224c-8ffd-40f9-85b1-86ffe1393f6c.jpg)

?? IP ßø?????????????????ßø?Ôì

1. ???????ßø?? ARP??Address Resolution Protocol??
2. ??????????ßø?? ICMP??Internet Control Message Protocol??
3. ?????????ßø?? IGMP??Internet Group Management Protocol??

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/163cf8b4-5f30-46c9-af00-316a71b3c890.jpg)

## IP ????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/8681db55-0873-434b-aa98-83d07e8392ae.jpg)

**?∑⁄** : ?? 4??IPv4???? 6??IPv6?????????

**???????** : ? 4 ¶À?????????? 15???? 1 ??????? 1 ?? 32 ¶À???????????? 4 ?????????????????? 20 ???????????ß≥? 5??????????????????? 4 ????????????????¶¬??????????????

**???????** : ??????????????????????????®¢?

**?????** : ???????????????????????

**???** : ??????????????????????????????????????????????????????????????

**????** : ????????????????????????????????¶À? 8 ????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/45c86855-9b18-4cf4-a9a7-f8b6eb78d133.png)

**???????** ??TTL????????????????????????????????????ß”??????????°§???????????¶À???? TTL ? 0 ?????????????

**ßø??**?????ß¡???????????????????ßø????ß’??????? ICMP??TCP??UDP ???

**????????**??????????????????°§?????????????????????????????????????????????????????????

## IP ??????

IP ?????????????????????????¶≤?

1. ????? IP ?????
2. ??????????
3. ?????????

### 1. ????? IP ???

????????????????????????????ß”???????ß”????????????????????????

IP ??? ::= {< ????? >, < ?????? >}

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/2ddd6132-60be-4a72-9daa-3d9756191f4a.png)

### 2. ????????

?????????????????????????????????????? IP ???????????? IP ?????????????¬I??????????????

IP ??? ::= {< ????? >, < ?????? >, < ?????? >}

????????????????????????????? B ?????????????????? 255.255.0.0????? B ???????????????????????????????? 11111111 11111111 11000000 000000??????? 255.255.192.0??

### 3. ??????? CIDR???????????

CIDR ???????? A ??B ??? C ????????????????????????????????????????? IP ??????ß“????????????????????????Å£??

IP ??? ::= {< ???????? >, < ?????? >}

CIDR ??????????? IP ?????????????????????????????? 128.14.35.7/20 ???? 20 ¶À?????????

CIDR ??????????????????????????????????? 1 ?????????????????

??? CIDR ????????ß‹????????? CIDR ??????????????????????????Ì‡??????°§????????????°§????????????????°§?????????°§????????????????????????????????????°§???????????°§??????????????????

??°§????????????®¿??????????????????????????????????????????????????????????????????

## IP ????? MAC ???

????????????????????????°§?????????????°§????????????????????ßµ?IP ?????????????????????????? MAC ?????????°§????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/86b71296-0d1e-4a63-bcd9-54955b6b781b.jpg)


## ???????ßø?? ARP

????? IP ?????? MAC ?????

?????????????? ARP ??????ó®????????????? IP??? ?? MAC ?????????????ßµ?????????????????? ARP ??????ÔÖ??? IP ????????????? ARP ????????? MAC ?????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/8bc6fc2c-d198-4759-b06c-18d94d851e97.png)

## °§???????

°§??????????????????°§??????????????

???????????????????????????????????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/3a676c54-b559-4466-9b21-eb10f1e25879.jpg)

????????????????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/7f82fd18-7f16-4125-ada6-bb6b795b4fda.png)

## ????????°§??????????

- ??????????????????°§??????? MAC ????????? MAC ????????°§????????????????????????? IP ????? MAC ????????

- °§????¶À???????????? IP ????????? IP ?????????Óï?????°§???????°§?????????°§???

## °§???????????????

1. ???????????????????????? IP ??? D?????????????? N????°§????????????????? IP ???????????????????°§????????????
2. ?? N ???????°§?????????????????????????????????????
3. ??°§????????????? D ?????????°§????????????????????????????????°§??????
4. ??°§??????ß÷??????? N ??°§????????????????°§?????????????????°§??????
5. ??°§?????????????°§????????????????°§???????????????°§??????
6. ??????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/8d211911-0e62-4190-ab00-d8610adec4a0.jpg)

## °§?????ßø??

??????????°§?????ßø?˙Y???????????????????????????????Å£???????????ß÷?????

??????????????????ß≥???????? AS????? AS ????????????? AS ?????°§?????ßø?Óï

?????°§?????ßø?¸l?????????

1. ???????ßø?? IGP??Interior Gateway Protocol?? ????????????????? RIP ?? OSPF??
2. ??????ßø?? EGP??External Gateway Protocol?? ????????????????? BGP??

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/e0be6970-5b0e-44a2-bc71-df4d61c42b8f.jpg)

### 1. ???????ßø?? RIP

RIP ??????????????????????°§?????ßø?Óï??????????????????????°§????????? 1?????????? 15?????? 15 ????????

RIP ????????????????????°§?????????????°§???????????¶Õ??????????°§?????????????????????????¶ ?????????????????????°§?????????

????????????

1. ????? X ??????°§?????????? RIP ??????????????ß÷?????????????????????ß÷?????? X?????????ß÷??????¶Ã? 1??
2. ??????? RIP ?????ß÷????????????????????—s
 - ???????°§??????????????? N?????????????°§????ßµ?
 - ???????????°§????????? X??????????????ùI???°§????ß÷?????????????????????ß÷???? d ß≥??°§????ß÷????????ß⁄??????????°§?????? Net2, 5, P???°¿???? Net2, 4, X???????????????????????
3. ?? 3 ???????????????°§?????????°§???????????°§?????????????????????? 16??

RIP ßø???????????ß≥?????? RIP ????????????? 15???????????????????????????????????????????????????????????????????°§??????

### 2. ???????ßø?? OSPF

???????°§?????? OSPF????????? RIP ?????????????????

?????? OSPF ???????????????????????????????°§???????????????? Dijkstra ????????°§???? SPF??

OSPF ???????????

1. ?????????ß÷?????°§??????????????????????˙ò????
2. ??????????????????°§????????°§??????°§??????????ßª°§?????????????°§????????????°¬??®¢?????????????????????
3. ??ß÷???°§???????Å£???°§??????????????

????°§??????????????????????????????????????? RIP??OSPF ????????????????

### 3. ??????ßø?? BGP

AS ????°§????????????????????????????????? AS ?????®∞????°§?????ßø?ÔÖ???????????°§????????????? AS ????°§???????????ß€????????????ßª AS ??????????? AS ??????

BGP ??????????????°§????????????°§?®¿???????°§??????°§?????ßø?Óï

??? AS ?????????? BGP ???????????????????? BGP ????????Å‹?? TCP ??????????°§???????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/eb6271de-22c9-4f4b-8b31-eab1f560efac.png)

## ??????????ßø?? ICMP

ICMP ????????ßπ????? IP ???????????????????????????? IP ??????ßµ????????????ßø?Óï

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/9b5e0fa0-9274-4219-a3a9-84fbb509c735.jpg)

ICMP ??????????„Ë??????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/6e11b122-95ce-4869-bf7d-3b0d7591707e.jpg)

## ??????????? PING

PING ?? ICMP ????????????????????????????????????????

PING ??????

1. PING ???????¶≈???????????????????? MAC ??????????????????????????? MAC ??????????????? ARP????
2. PING ??????¶≈?????????????????????????????????????????????????????????? MAC ????????? MAC ????????????

## IP ??

???????????ßµ?????????????˚`??????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/c77b6a18-dfac-42a2-ac89-7e99481275dc.jpg)

## ????????? VPN

???? IP ???????????????????????? IP ??????????ß≥???????????ß÷????????????????????????????????ß÷???????????????????ßµ?????????????????????????????ßπ?? IP ??????????????

????????????Ôì

1. 10.0.0.0 \~ 10.255.255.255
2. 172.16.0.0 \~ 172.31.255.255
3. 192.168.0.0 \~ 192.168.255.255

VPN ??®¥???????????????????????????????????â^?????????????????????????????????????????????????????????????????????ß‡???????????????

????ßµ????? A ?? B ????????????????????????? A ?????? X ???????????? B ?????? Y ????IP ????????????? 10.1.0.1????????? 10.2.0.3?????????????????????????°§???? R1??R1 ???????????ßﬁ????????????????????????????????°§???? R1 ??????? 125.1.2.3?????????°§???? R2 ??????? 194.4.5.6??°§???? R2 ???????????????????ßﬂ???????????????????????????? 10.2.0.3????????? Y??

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/bf4ed077-d481-4db7-9e7a-85d841a5a8c3.jpg)

## ????????? NAT

???????????????????? IP ????????????????????????????????? NAT ???????? IP ??????? IP??

???????NAT ?????? IP ????? IP ?????????????????? n ????? IP ???????????????????????? n ?????????????????????ßπ????????? IP ????????????? NAT ???????????????????????????????????????????????????????????? IP ???????????? NAT ?????????????????? NAPT??

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/0f31bc7a-d60b-48a6-8e3f-597708369e52.png)

# ?????? ?????*

??????????˙Ä??????????????????????????????????????????ß÷?????

??????????????????????????????????????????????????????????????®Æ????????????????????????????????????????????????

## UDP ?? TCP ?????

????????ßø?? UDP??User Datagram Protocol??
???????ßø?? TCP??Transmission Control Protocol??

UDP ???????????????????????????????????????????????®Æ????????????????????????????? UDP ???????

TCP ???????????????????????????????????????????????????????????????????®∞?????????????????????????????????ß≥?????????ÔÇ

## UDP ??????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/bd6c05f3-02ee-4c8a-b374-40c87154a898.jpg)

????????? 8 ????????????????????????????????12 ????¶¡????????????????????????

## TCP ??????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/21a00b02-c0a6-4bcd-9af0-5ec6bb66e34c.jpg)

**???** ???????????????ß“??????????? 301????????????????? 301?????ß¡???????????? 100 ????????????????¶≈?????? 401??

**????** ????????????????????¶≈????????? B ?????? A ???????????????¶≤????? 501??ß¡???????????? 200 ??????? B ?????????????¶≈????? 701??B ????? A ????????????????? 701??

**???????** ?????????????????????????????????????????????????????

**??? ACK** ???? ACK=1 ??????????ßπ????????ßπ??TCP ?’«????????????????ß’???????¶∆?????? ACK ?? 1??

**??? SYN** ????????????????????????? SYN=1??ACK=0 ?????????????????????¶±??????????????????????????? SYN=1??ACK=1??

**??? FIN** ??????????????????? FIN=1 ???????????¶≈?????????????????????????????????????

**????** ????????????????°¬??????????????????????????????????????????????????????????????????

## TCP ??????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/086871db-5871-460f-97b7-126cd738bb0e.jpg)

???? A ???????B ??????????

1. ???? B ???? LISTEN????????????????????????????
2. A ?? B ??????????????¶≤?SYN=1??ACK=0???????????????? x??
3. B ?????????????¶≤?????????????????? A ??????????????¶≤?SYN=1??ACK=1??????? x+1??????????????????? y??
4. A ??? B ????????????¶ ????? B ????????????? y+1?????? x+1??
5. B ??? A ???????????????


## TCP ????¶À???

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/78f65456-666b-4044-b4ee-f7692dbbc0d3.jpg)

??????????????????????????????????????????????????? ACK????? ACK ????????????? 1??

1. A ??????????????¶≤?FIN=1??
2. B ?????????????? TCP ???????????B ???? A ??????????? A ?????? B ?????????
3. ?? B ????????????????????????????????¶≤?FIN=1??
4. A ?????????????????????

**TIME_WAIT**

?????????????????? FIN ???????????????????????????? CLOSED ??????????????????????????????????????????????

1. ?????????????????????????? B ???? A ??????????????¶≤??????????°§????????????????¶≤?A ????????????????????????????????
2. ??????????????ßπ????????????¶±???????????????¶√???????????????????????????

## TCP ????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/223fc26e-2fd6-484c-bcb7-443cac134f15.jpg)

???????????????????????????????????????????????????????????????? TCP ??????ß÷??????¶»????????????????ß≥?????????????????????????????????????ß≥??

???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????

???????????????????????????????????????????????????????????? {31, 32, 34, 35}?????? {31, 32} ??????? {34, 35} ??????????????? 32 ?????????????????????????????????????????????????????????????

## TCP ???????

TCP ??®Æ????????????????????????????????????????????????????????????????????¶±?

???????¶ƒ????????????????????????????????? RTT??????????????? RTTs ?????????

![](http://latex.codecogs.com/gif.latex?\\\\RTTs=(1-a)*(RTTs)+a*RTT)

??????????????? RTO ???????? RRTs??TCP ?????????????????

![](http://latex.codecogs.com/gif.latex?\\\\RTO=RTTs+4*RTT_d)

???? RTT<sub>d</sub> ??????????? RRT ?? RRTs ?ß€??

## TCP ????????

????????????????????????????????????????®π??????

?????????????????ß÷??????¶œ????????????????????ß≥????????????????????????¡L???????????? 0???????????????????

## TCP ???????

??????????????????˝q????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????®π???????????????????????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/a69af9bb-b5ad-4896-862d-697e5ee4feb1.png)

TCP ?????????????????????????????????????????????????????????????????????????????????cwnd????????????????????????????????????????????????????????????????????????????????????????????

???????????????????—s

1. ?????????????????ó®?????????????????
2. ??? TCP ?????????????????????∑°????ß≥??¶À?????¶±?

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/346244ff-98c1-4f12-9a87-d0832e8c04cf.jpg)

### ??????????????

???????????????????? cwnd=1????????????? 1 ??????¶≤??????????? cwnd ?????????????????????????????2??4??8 ...

?????????????¶∆??? cwnd ????????????? cwnd ????????????????°¬????????????????????????????????????????????????????????? ssthresh???? cwnd >= ssthresh ??????????????????????? cwnd ?? 1??

????????????????? ssthresh = cwnd / 2???????????????????

### ??????????

?????????????¶Õ????????¶∆???°¬???????????????¶≈????????????????? M<sub>1</sub> ?? M<sub>2</sub>???????? M<sub>4</sub>?????????? M<sub>2</sub> ??????

????????????????????????????????????????????¶∆??????????????? M<sub>2</sub> ???? M<sub>3</sub> ??????????ß·??????????????????????¶±?

???????????????????????¶≤?????????????????????ß·??????? ssthresh = cwnd / 2 ??cwnd = ssthresh?????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/b18d679b-c8e2-4564-88ee-7600090e46da.jpg)

# ?????? ??®∞?*

## ?????? DNS

????????????? IP ?????

?????????????

### 1. ??¶Õ?

?????????????¶…?????????????????????????????????????????????????????????????????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/c2117f61-1177-4768-bf33-cf4f950d911c.png)

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/a4b162e5-db2a-4a27-b213-1fe481c5a06a.png)

????????????????????????

**(1) ????????????**????????????????

**(2) ??????????????**????????????????

**(3) ?????????????**?????????????????

?????????????????????????ß›?????????? b ???? abc.com ?ß›?????????????abc.com ?? y.abc.com

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/fc0c6b2d-68c7-4de8-aaaa-97355a4f0472.jpg)

??????????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/8b335d94-c1ca-42e1-ad48-bb179d28a4f1.jpg)

**(4) ??????????????**????????????????????????????????????????µµ

### 2. ????????

??????????????????????????????ÔÖ?????????????????????????????????????????????????????????

?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/6bc61bb8-3b1c-4dc8-ac25-cef925ace0eb.jpg)

## ???????ßø?? FTP

FTP ?????????? TCP????????????????????ß÷? TCP ????????????????????????????????????????????????????????????????????????????????????????????? 21???????????????? 20??

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/58633775-8584-4a01-ad3f-eee4d9a466e1.jpg)

## ??????ßø?? TELNET

TELNET ?????????????????????????????????????????

TELNET ?????????????????????????????ª†?????????????ßŸ????â^

## ????? WWW

?? HTTP ????

## ???????ßø??

??????????????????????????????????????????????????ßø?????ßø?Óï???ßŸ???ßø?¯@?? SMTP?????ßø?¯@?? POP3 ?? IMAP??

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/de1e46d2-748f-4da3-a29e-7de7bc840366.jpg)

### POP3

POP3 ??????????????????????????????????????????

### IMAP

IMAP ßø???ß·???????????????????????????????????????????????????????????????????IMAP ?????????????????????????????????????????IMAP ßø???????????????????ß≥?

### SMTP

SMTP ?????? ASCII ????????????????? MIME ?????????????????MIME ????ß⁄????????? SMTP???????????????????????????? ASCII ?????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/ed5522bb-3a60-481c-8654-43e7195a48fe.png)

## ???????????ßø?? DHCP

DHCP ??????èá?????????????????????????????? IP ??????????

DHCP ?????????????? IP ??????????????????????°§???? IP ????????????????? IP ?????

??????????????? IP ??????????????? DHCP ??????????????????? 1???? 255.255.255.255:67???????????? 0???? 0.0.0.0:68????DHCP ??????????????????????? IP ???????????????????? DHCP ???????????????

## ?????? P2P

????????????????ßÿ??????????????????????????????????ÔÖ?????ß≥??????????????????????????????????????????ÔÖ????????????????????????????ßª????ÔÖ?????????????????????ßª????Óï

?????????????????????????????????????????????????????????????????????????????????????????????ß≥????????¶ ????????????????????

???????????????????????????????????????????????????????????????ßª?????????????????ßª????????????????????????????˙Y????????????ßﬂ??ß≥?

???????????????????????????????????????????????????ÔÖ???????????????????????ß⁄????????????????????????????Óï

????????????????????????????????????????????????????????????????????

P2P ??????????????¶ ?????ßÿ?????????????????°¬?????ß“? DHT?????????????ß÷?????? IP ??????

## Web ??????????

1. ?? DNS ?????????? DNS ???????????????????

2. ???????DNS ??????????????? 53 ?? UDP ??????ß≥?

3. ???????UDP ?????????? IP ?????ßµ?°§?????????°§???????????????Óï

4. ????°§??IP ???????????°§????ßµ?????????? ARP ????? MAC ???????? ARP ??? MAC ???????????????°§???????

5. ?? DNS ???????????????? IP ??????????????? HTTP ?????

6. ????? HTTP ??????????? TCP ?????TCP ??????????????ßﬂ??? TCP ???????????TCP ???????????????????

7. ???????? HTTP ???????????????µµ

8. ????????????????????????????????ß⁄???ó®??????????????? HTTP ??????????????????????µµ????????????????µµ

9. ?????????????????????????????????????µµ

10. ????????????????????????? HTTP ???????ß—??? Connection: close ??¶≤??????? TCP ?????TCP ??????????????????????????


## ??????

| ??®∞?ßø?? | ???? | ?????ßø?? |
| -- | -- | -- |
| DNS | 53 | UDP |
| FTP | ???????? 21?????????? 20 | TCP |
| TELNET | 23 | TCP |
| DHCP | 67 68 | UDP |
| HTTP | 80 | TCP |
| SMTP | 25 | TCP |
| POP3 | 110 | TCP |
| IMAP | 143 | TCP |
