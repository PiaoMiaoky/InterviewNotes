<!-- GFM-TOC -->
* [????? ????](#?????-????)
    * [??????????????](#??????????????)
        * [1. ????](#1-????)
        * [2. ????](#2-????)
        * [3. ????](#3-????)
        * [4. ??](#4-??)
    * [??????](#??????)
    * [?ßÿ????](#?ßÿ????)
        * [1. ???ßÿ?](#1-???ßÿ?)
        * [2. ??](#2-??)
        * [3. ????](#3-????)
    * [??????????](#??????????)
        * [1. ?????](#1-?????)
        * [2. ????](#2-????)
* [????? ???????](#?????-???????)
    * [?????????](#?????????)
        * [1. ????](#1-????)
        * [2. ???](#2-???)
        * [3. ????](#3-????)
    * [?????????ß›?](#?????????ß›?)
    * [??????](#??????)
        * [1. ?????????ß÷????](#1-?????????ß÷????)
            * [1.1 ?????????FCFS??](#11-?????????fcfs??)
            * [1.2 ??????????SJF??](#12-??????????sjf??)
            * [1.3 ??????????????SRTN??](#13-??????????????srtn??)
        * [2. ????????ß÷????](#2-????????ß÷????)
            * [2.1 ?????????](#21-?????????)
            * [2.2 ???????](#22-???????)
            * [2.3 ??????????](#23-??????????)
            * [2.4 ?????????](#24-?????????)
        * [3. ?????ß÷????](#3-?????ß÷????)
    * [???????](#???????)
        * [1. ?????](#1-?????)
        * [2. ???????](#2-???????)
        * [3. ?????](#3-?????)
        * [4. ???](#4-???)
    * [???????](#???????)
        * [1. ???](#1-???)
        * [2. ?????](#2-?????)
        * [3. ???????](#3-???????)
        * [4. ???](#4-???)
        * [5. ???????](#5-???????)
        * [6. ?????](#6-?????)
    * [???????????](#???????????)
        * [1. ????-ß’??????](#1-????-ß’??????)
        * [2. ????????????](#2-????????????)
* [?????? ????](#??????-????)
    * [??????????](#??????????)
    * [???????????](#???????????)
        * [1. ???????](#1-???????)
        * [2. ???????](#2-???????)
            * [2.1 ???????????](#21-???????????)
            * [2.2 ???????????????](#22-???????????????)
            * [2.3 ??????????????](#23-??????????????)
            * [2.4 ?????°§???](#24-?????°§???)
        * [3. ????????](#3-????????)
            * [3.1 ?????](#31-?????)
            * [3.2 ????????????ßﬁ???](#32-????????????ßﬁ???)
            * [3.3 ???????????ßﬁ???](#33-???????????ßﬁ???)
        * [4. ????????????????](#4-????????????????)
            * [4.1 ?????????](#41-?????????)
            * [4.2 ???????](#42-???????)
* [?????? ?õ•??????](#??????-?õ•??????)
    * [???????](#???????)
    * [???????](#???????)
        * [1. ???](#1-???)
        * [2. ???](#2-???)
        * [3. ????](#3-????)
        * [4. ???????????](#4-???????????)
    * [????????](#????????)
        * [1. ????Optimal??](#1-????optimal??)
        * [2. ????????FIFO??](#2-????????fifo??)
        * [3. ??????¶ƒ????LRU??Least Recently Used??](#3-??????¶ƒ????lru??least-recently-used??)
        * [4. ????Clock??](#4-????clock??)
* [?????? ?ıÙ????](#??????-?ıÙ????)
    * [?????????](#?????????)
        * [1. ?????????FCFS??First Come First Serverd??](#1-?????????fcfs??first-come-first-serverd??)
        * [2. ??????????????SSTF??Shortest Seek Time First??](#2-??????????????sstf??shortest-seek-time-first??)
        * [3. ???????SCAN??](#3-???????scan??)
        * [4. ??????????CSCAN??](#4-??????????cscan??)
* [?¶œ?????](#?¶œ?????)
<!-- GFM-TOC -->

# ????? ????

## ??????????????

### 1. ????

???????????????????????????????ßÿ??????????????????????????ßÿ????˛ü

????????????????????????????????

???????????????????????®Æ?????????????ß≥?

### 2. ????

??????????ß÷?????????????????????????®¢?

?????????????????????????

????????????????????????????????????????????????????????????????????????????????????????????????

### 3. ????

??????????????????????????????â^??????????????????????®π?????????®π???????????????????????????????????????????????®π????????????????????ß’???????????????ß≥?????????????ß›?????????????ßÿ???????????ß’???

### 4. ??

???????????????????????????????????????????????????????

## ??????

???????????????????????????????ßª?????????????????????????????????????????®¿?

???????????????????????ıÙ???????????????????????????õ•????????

## ?ßÿ????

### 1. ???ßÿ?

?? CPU ???????????????????? I/O ?????ßÿ??????ıÙ????/????????????????????????????????????/????????????????ßÿ????????ßÿ???

### 2. ??

?? CPU ????????????????????????????????≥Ü??????????

### 3. ????

???????????????????®¢?

## ??????????

### 1. ?????

????????????????????????????????????????????????˚s???????????ß‹????????

### 2. ????

????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????ß›?????????????????????

# ????? ???????

## ?????????

### 1. ????

????????????????????????????¶À??

???????? (Process Control Block, PCB) ???????????????????????????¶Õ????????????????????????? PCB ???????

### 2. ???

???????ß·????ßÿ?????????????????????¶À???????????ß÷?????????????????ßµ????????????????

### 3. ????

?? ???????????????????????????¶À?????????????????????????????????????????

?? ???????????????????????¶À???????????ßµ??????ß›?????????????ß›???????????????????ß›?????????????ß÷?????????????????ß›???

?? ?????????????????????????????????????????????????????I/O ?ıÙ???????????????????????????????????????????????????????ßﬂ????ß›?????ùp?????ßﬂ??? CPU ????????ùp???????? CPU ?????????®¢???????ß›????ÿb???????????????????????????ß≥??????????????????????????????????????????ßª????????????????????????????????????????????

?? ?????π◊???????? (IPC) ?????????????????¶≈?????????????????????????????????????/ß’????????¶≤?????????????????????

??????QQ ?? ??????????????????????????????ß‹?????????? http ????????????????????????????????????????????????ß÷????????????????? http ???????????????????????????????????

## ?????????ß›?

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/1706ce58-a081-4fed-9b36-c3c0d7e22b3a.jpg)

????????????????????????????????????????????????????? CPU????? CPU ????????????????????????

??ß‡????????????????????????????????????????????????????????????????? CPU ????????????????????????????????????? CPU ??????????????????????????????¶≈????

## ??????

?????????????????????????

### 1. ?????????ß÷????

#### 1.1 ?????????FCFS??

first-come first-serverd??

?????????????????ß÷??????

??????????????????????????????????????????????????????????????ßµ???????????????ß‹?????????????????????????

#### 1.2 ??????????SJF??

shortest job first??

???????????????????????

??????ß·????????????????????????????????????????ßÿ??????????????????????®∞????????

#### 1.3 ??????????????SRTN??

shortest remaining time next??

### 2. ????????ß÷????

#### 2.1 ?????????

???????????????????????????????????????????????????????????????????????????

????? = (?????? + ?????????) / ????????? = ?????? / ?????????

??????????????????? SJF ?ß‘????????????????????????????????????????????????????

#### 2.2 ???????

?????ß‡???????? FCFS ??????????????ßµ???¶≈???????? CPU ????????????????????????????????????????????????????????????ßÿ????????????????????ßµ??????????????????ß÷??¶¬?????????? CPU ??????????????

???????????ßπ????????ß‹???????????¶Õ????ß›??????????????????????????????????????????????????ß›?????????????ß›????????????

#### 2.3 ??????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/042cf928-3c8e-4815-ae9c-f2780202c68f.png)

?? ?????????????ßµ???????????ß⁄??ŸM??????????????????ß÷??????????????????ß’????????????ß÷??????????????????????????????ßﬂ?????????????ß≥?????????????????????????ßµ????????????’«????????????ß≥??

?? ?????????????????????????????????ß÷??¶¬???? FCFS ???????????????????????????????????????????????????????????????????????????????????¶ƒ????????????????????????????ß÷??¶¬??

?? ????? i -1 ?????ß‡????????????? i ?????ß÷???????ß≥?

????????????????ßÿ????????????

#### 2.4 ?????????

### 3. ?????ß÷????

????????????????????????????????????

?????????????????????????????????????????????????????

## ???????

### 1. ?????

???????????ßŸ??????¶ƒ????????????

?????????????????????????????????????????????ßﬁ?Óï

```html
// entry section
// critical section;
// exit section
```

### 2. ???????

????????????????????ßµ??????????????????????????????????????????

????????????????????????????????????????????????????

### 3. ?????

**???????Samaphore??**???????????????????????? down ?? up ???????????????? P ?? V ??????

- **down** : ???????????? 0 ????? - 1 ?????????????????? 0???????????????????????? 0??
- **up**???????????? + 1 ????????????????????????????? down ??????

down ?? up ????????????????????????????????????????ßª??????????????ßÿ??

???????????????? 0 ???? 1???????????**????????Mutex??**??0 ?????????????????1 ??????????????

```c
typedef int samaphore;
samaphore mutex = 1;
void P1() {
    down(mutex);
    // ?????
    up(mutex);
}

void P2() {
    down(mutex);
    // ?????
    up(mutex);
}
```

**?????????????????-??????????**

???????????? mutex ?????????????ßŸ????empty ??????????????????full ???????????????????

???????????? down ??????????????????????????????????????????????????????????????????? down ???????????????????????????????????????? down(empty) ?????????? empty = 0?????????????????????????????????????????????????????????????????????? up(empty) ??????????????????????????????????

```c
#define N 100
typedef int samaphore;
samaphore mutex = 1;
samaphore empty = N;
samaphore full = 0;

void producer() {
    while(TRUE){
        int item = produce_item;
        down(empty);
        down(mutex);
        insert_item(item);
        up(mutex);
        up(full);
    }
}

void consumer() {
    while(TRUE){
        down(full);
        down(mutex);
        int item = remove_item(item);
        up(mutex);
        up(empty);
        consume_item(item);
    }
}
```

### 4. ???

???????????????????????????????????????????????????????????????????????????????????????????????????????????

c ?????????????????????????????? Pascal ??????????????????????ß÷??????? insert() ?? remove() ??????????????????????????????????????????-??????????

```html
monitor ProducerConsumer
    integer i;
    condition c;
    
    procedure insert();
    begin
    
    end;
    
    procedure remove();
    begin
    
    end;
end monitor;
```

??????????????????????????????????????®¥??????????????????ß÷??????????®¥??????????????????????????????????????®¥???

????????? **????????** ????????????**wait()** ?? **signal()** ??????????????????????????? wait() ?????????????????????????®Æ????????????????ß≥?signal() ??????????????????????

**??®¥???????????-??????????**

```html
monitor ProducerConsumer
    condition full, empty;
    integer count := 0;
    condition c;

    procedure insert(item: integer);
    begin
        if count = N then wait(full);
        insert_item(item);
        count := count + 1;
        if count = 1 ten signal(empty);
    end;

    function remove: integer;
    begin
        if count = 0 then wait(empty);
        remove = remove_item;
        count := count - 1;
        if count = N -1 then signal(full);
    end;
end monitor;

procedure producer
begin
    while true do
    begin
        item = produce_item;
        ProducerConsumer.insert(item);
    end
end;

procedure consumer
begin
    while true do
    begin
        item = ProducerConsumer.remove;
        consume_item(item);
    end
end;
```

## ???????

??????????????????????????????????????????????????????????????????????????????????????

### 1. ???

??????????????????????????????ß≥?????????????????????????????????????????????????????ß’??????????¶¬??ß’???????????????????????????????????????????????????????????????????????ßª?????

???????????????????????????????????????????ß’??????????????????????????????????????????????ß’????????????????????????????????ß’?????????????

Linux ?ß€??????????????????

??????????

?? ?????????????????????????????????????????????????????????????????????

?? ????????????????????????????

?? ?????????????????????????????????????????????

### 2. ?????

?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????¶±?

### 3. ???????

??????ß·?????????????????????????????????????????????ß≥????????

### 4. ???

?????????????????????????????????????????????????

### 5. ???????

????????????????????????????????????ó®??¶…??????????????????????????????????????????????????? IPC ??????????????????????????????ßπ??????????????????????????????????????????????????????????????????

### 6. ?????

?????????????????????????????????????????????????????????????????

## ???????????

??????????????????????????????

### 1. ????-ß’??????

????????????????????ßÿ???????????????????ß’???ß’??ß’????????????

?????????? count ????????????ßÿ????????????????????????? count_mutex ????? count ??????????????? data_mutex ??????ß’???????????

```c
typedef int semaphore;
semaphore count_mutex = 1;
semaphore data_mutex = 1;
int count = 0;

void reader() {
    while(TRUE) {
        down(count_mutex);
        count++;
        if(count == 1) down(data_mutex); // ????????????????????ßﬁ????????ß’???????
        up(count_mutex);
        read();
        down(count_mutex);
        count--;
        if(count == 0) up(data_mutex);
        up(count_mutex);
    }
}

void writer() {
    while(TRUE) {
        down(data_mutex);
        write();
        up(data_mutex);
    }
}
```

### 2. ????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/a9077f06-7584-4f2b-8c20-3a8e46928820.jpg)

????????¶∂???????????????????????????????????????????????????????????????????????????????????????????????????????

???????????????????????????????????????????????????????????????????????????????

```c
#define N 5
#define LEFT (i + N - 1) % N
#define RIGHT (i + N) % N
typedef int semaphore;
semaphore chopstick[N];

void philosopher(int i) {
    while(TURE){
        think();
        down(chopstick[LEFT[i]]);
        down(chopstick[RIGHT[i]]);
        eat();
        up(chopstick[RIGHT[i]]);
        up(chopstick[LEFT[i]]);
    }
}
```

???????????????????????????????????????????????????????????????????????????????????????????¶ƒ????????

```c
semaphore mutex = 1;

void philosopher(int i) {
    while(TURE){
        think();
        down(mutex);
        down(chopstick[LEFT[i]]);
        down(chopstick[RIGHT[i]]);
        up(mutex);
        eat();
        down(mutex);
        up(chopstick[RIGHT[i]]);
        up(chopstick[LEFT[i]]);
        up(mutex);
    }
}
```

# ?????? ????

## ??????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/c037c901-7eae-4e31-a1e4-9d41329e5c3e.png)

1. ????
2. ????????????????????????????????????????????????????
3. ???????
4. ??°§???

## ???????????

### 1. ???????

????????????????????????????

?????????????

### 2. ???????

????????????????????????

#### 2.1 ???????????

?????????????????????????????????????¶∑????????????????????????????????????

#### 2.2 ???????????????

??????????’«???ßﬂ??????????????????????????????

#### 2.3 ??????????????

#### 2.4 ?????°§???

????????????????????????????????????

### 3. ????????

??????????????????????

#### 3.1 ?????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/ed523051-608f-4c3f-b343-383e2d194470.png)

? a ?????? has ???????ß÷?????????????? max ??????????????????free ??????ß·????????????????? a ????????????? B ????????????????????ßﬂ???????? B????? free ??? 4??????????????????? C ?? A????????ßﬂ???????????ßµ????????? a ??????????????

???âÿ?????????????????????????ßﬂ??????????????????????????????????????????????????????????????????????????

#### 3.2 ????????????ßﬁ???

???ß≥????????ßﬁ???????????????????????????????????????ßÿ?????????????????????????????????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/d160ec2e-cfe2-4640-bda7-62f53e58b8c0.png)

??? c ????????????????????????????????????? c ?ß÷?????

#### 3.3 ???????????ßﬁ???

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/62e0dd4f-44c3-43ee-bb6e-fedb9e068519.png)

????????????????????????????????????????????????????????????????????????? E??P ??? A ???????????????????????????????????????????????????????????????????? A=(1020)????? 4 ??????????? 1/0/2/0??

?????????????????????

?? ????????????????????ß≥????????? A??????????????????ßµ?????????????????????????????

?? ?????????????ßµ????????????????????????????????? A ?ß≥?

?? ???????????????????ßﬂ????????????????????????

### 4. ????????????????

??????????????????????????????????????????ß›????

#### 4.1 ?????????

?????????????????????????????????????????????????????????ßµ????????ß÷????????????????????????????????????ß≥?

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/e1eda3d5-5ec8-4708-8e25-1a04c5e11f48.png)

????ßµ??????????????????????????????????????

E ?????????????
A ??????????????
C ???????????????ß÷?????????????ßÿ????????????????????????
R ???????????????????????

???? P<sub>1</sub> ?? P<sub>2</sub> ?????????????®∞?????????ßﬂ??? P<sub>3</sub> ??????? P<sub>3</sub> ??ßµ??????? P<sub>3</sub> ??ß÷????????? A = (2 2 2 0)??P<sub>1</sub> ??????ßµ???ß‹???? P<sub>1</sub> ??ß÷?????? A = (4 2 2 2) ??P<sub>2</sub> ???????ß≥????ßﬂ?????????????ßµ??????????

??????????

???????????????????????ß€????ß·????????????????????¶ ???ß“????????????????????

?? ????????ß“?????? P<sub>i</sub>??????????????ß≥????? A??
?? ????????????????????????? C ?????? i ????????? A ?ßµ?????????????? ???
?? ???????????????????????????

#### 4.2 ???????

?? ??????????
?? ???????

# ?????? ?õ•??????

## ???????

????????????????????????????????????ÔÖ??????? ?????ßª????????????ó®??????????????????????ó®???????????????????????????ß≥?

??????????????????????????ß÷????????????????????ß“??????????????????????????????????ß÷????????????????????????????????????õg?????????????˛ü

## ???????

### 1. ???

??????????????????????????ß≥?????????????????????????????????????ÔÖ??????ß≥?????????????????????????????????ßµ?????????????????????????????????????????

### 2. ???

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/22de0538-7c6e-4365-bd3b-8ce3c5900216.png)

??????????????????????ßﬂ??????????? 4 ????????????????????°¬?????????????????????????????????????????

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/e0900bb2-220a-43b7-9aa9-1d5cd55ff56e.png)

??¶≈???????????????¶≤?????¶…?????????????????????¶≈????????????????????

????¶∆????????????????

### 3. ????

?°¬?¶«?????????????????õ•???????????????????¶À????????????¶≤????????????????????????¶«??????ß≥?????????

?°¬??????????????????µµ???????????????????????ß≥????õ•?ÔÖ???????????¶ ????????????????????????????ß÷????????????????????????

### 4. ???????????

?? ???????????????????????????????????????????????¶±?

?? ??????????????????????????????????

?? ??ß≥????????????ß≥??????¶≈??ß≥?????????

?? ??????????????????????????ó®?????????????????????????????????????????????????????????????????????????????

## ????????

????????ß€????ßµ???????????????÷Œ????????????????????ó®?????????????ß·????????????????ß÷????????õ‘?????????ßµ???????????????????????????ß≥?????????????????????????????????????????????????

### 1. ????Optimal??

???????????????ùü???????????????????????????????????????

????????????????????????????????????????????

??????????????????????????????ÔÖ??????????????????ßµ?

7??0??1??2??0??3??0??4??2??3??0??3??2??1??2??0??1??7??0??1

?????????????? 7,0,1 ????????????µµ?????????????? 2 ??????????ßÿ??????? 7 ???????????? 7 ??¶¡?????????????

### 2. ????????FIFO??

???????????????????????µµ

????????ßª????????????????????????????????????

### 3. ??????¶ƒ????LRU??Least Recently Used??

???????????????????????????????????????????????????LRU ????????¶ƒ??????ùI????

???????????????????ß’õ•???????????????????????????????????????????????????????????????????????????????????????????????????????¶ƒ??????????????????????

4??7??0??7??1??0??1??2??1??2??6

![](https://github.com/CyC2018/InterviewNotes/blob/master/pics/eb859228-c0f2-4bce-910d-d9f76929352b.png)

### 4. ????Clock??

Clock ?????????????????????¶À?????????õR????????????????? 1??

???????????ß÷??????????????????????ßµ??????ßÿ?????????˘n????????????????¶À?????????¶À? 0?????????ùI???????????????¶À????? 0????????????¶≈???????????????Óï

# ?????? ?ıÙ????

## ?????????

??????????????????????????????ß’?????????????????????????????????????????????????????????

### 1. ?????????FCFS??First Come First Serverd??

?????????????????????????????ß÷?????????????????????????????¶ƒ????????¶ ???????????????????????

### 2. ??????????????SSTF??Shortest Seek Time First??

????????????????????????????????????ß÷???????????????????????????????????? FCFS ?®≤??

### 3. ???????SCAN??

SSTF ???????ßﬁ???????????????????????????????????????????????????????????????????????????????????????????????

SCAN ???? SSTF ????????????????????????????????????????????????????????????????????????????????????????????????????????????????

??????????????????????????????????????????????????????????????????????????ßµ????????? SCAN ??????????????

### 4. ??????????CSCAN??

CSCAN ?? SCAN ??????????????????????????????????

# ?¶œ?????

- Tanenbaum A S, Bos H. Modern operating systems[M]. Prentice Hall Press, 2014.

- ?????, ?????, ??ß≥??. ???????????[M]. ???????????????????, 2001.

- Bryant, R. E., & O??Hallaron, D. R. (2004). ?????????????.

- [ß≥???????????????](http://wdxtub.com/interview/index.html)

- [??????????????](http://blog.csdn.net/yufaw/article/details/7409596)
